<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Will You Be My Valentine?</title>

<style>
body {
    margin: 0;
    padding: 0;
    font-family: 'Poppins', sans-serif;
    background: linear-gradient(135deg, #ffe6f0, #fff0f5);
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    overflow: hidden;
    text-align: center;
}

.container {
    position: relative;
    max-width: 420px;
    z-index: 2;
}

h1 {
    font-size: 28px;
    color: #ff4d88;
    margin-bottom: 10px;
}

#typing {
    font-size: 18px;
    min-height: 50px;
    color: #444;
}

img {
    width: 220px;
    margin: 20px 0;
    border-radius: 15px;
}

.buttons {
    position: relative;
}

button {
    padding: 12px 25px;
    font-size: 16px;
    border: none;
    border-radius: 25px;
    cursor: pointer;
    margin: 10px;
    transition: 0.3s ease;
}

#yesBtn {
    background-color: #ff4d88;
    color: white;
}

#yesBtn:hover {
    transform: scale(1.1);
}

#noBtn {
    background-color: #ccc;
    position: absolute;
}

#countdown {
    margin-top: 10px;
    font-size: 14px;
    color: #666;
}

.celebrate {
    font-size: 22px;
    color: #ff0066;
    margin-top: 15px;
}

/* Floating hearts */
.heart {
    position: absolute;
    bottom: -10px;
    font-size: 20px;
    animation: floatUp 6s linear infinite;
}

@keyframes floatUp {
    0% { transform: translateY(0); opacity: 1; }
    100% { transform: translateY(-100vh); opacity: 0; }
}
</style>
</head>
<body>

<div class="container">
    <h1 id="nameTitle"></h1>

    <div id="typing"></div>

    <img id="mainGif" src="https://media.giphy.com/media/ROF8OQvDmxytW/giphy.gif">

    <div class="buttons">
        <button id="yesBtn">YES ðŸ’–</button>
        <button id="noBtn">NO ðŸ˜­</button>
    </div>

    <div id="countdown"></div>
    <div id="message"></div>
</div>

<audio id="bgMusic" loop>
    <source src="https://www.bensound.com/bensound-music/bensound-romantic.mp3" type="audio/mpeg">
</audio>

<script>
// GET NAME FROM URL
const params = new URLSearchParams(window.location.search);
const name = params.get("name") || "Klychin Jane";
document.getElementById("nameTitle").innerText = name + "... ðŸ¥º";

// AUTO TYPING EFFECT
const text = "Will you be my Valentine on February 14 at 8PM? ðŸ’˜";
let i = 0;
function typeWriter() {
    if (i < text.length) {
        document.getElementById("typing").innerHTML += text.charAt(i);
        i++;
        setTimeout(typeWriter, 50);
    }
}
typeWriter();

// COUNTDOWN
const countdownEl = document.getElementById("countdown");
const targetDate = new Date("Feb 14, 2026 20:00:00").getTime();

setInterval(() => {
    const now = new Date().getTime();
    const distance = targetDate - now;

    const days = Math.floor(distance / (1000 * 60 * 60 * 24));
    const hours = Math.floor((distance / (1000 * 60 * 60)) % 24);
    const minutes = Math.floor((distance / (1000 * 60)) % 60);
    const seconds = Math.floor((distance / 1000) % 60);

    countdownEl.innerHTML =
        "Countdown: " + days + "d " + hours + "h "
        + minutes + "m " + seconds + "s";
}, 1000);

// FLOATING HEARTS
function createHeart() {
    const heart = document.createElement("div");
    heart.className = "heart";
    heart.innerHTML = "ðŸ’–";
    heart.style.left = Math.random() * 100 + "vw";
    heart.style.fontSize = (Math.random() * 20 + 15) + "px";
    document.body.appendChild(heart);

    setTimeout(() => heart.remove(), 6000);
}
setInterval(createHeart, 400);

// RUNAWAY NO BUTTON
const noBtn = document.getElementById("noBtn");
let moveCount = 0;

function moveButton() {
    moveCount++;
    const maxX = window.innerWidth - noBtn.offsetWidth;
    const maxY = window.innerHeight - noBtn.offsetHeight;

    noBtn.style.left = Math.random() * maxX + "px";
    noBtn.style.top = Math.random() * maxY + "px";

    if (moveCount === 3) noBtn.innerText = "Are you sure? ðŸ¥º";
    if (moveCount === 5) noBtn.innerText = "Think again ðŸ˜­";
    if (moveCount === 7) noBtn.innerText = "You can't escape ðŸ˜Œ";
}

noBtn.addEventListener("mouseover", moveButton);
noBtn.addEventListener("touchstart", moveButton);

// YES BUTTON
const yesBtn = document.getElementById("yesBtn");
const mainGif = document.getElementById("mainGif");
const message = document.getElementById("message");
const music = document.getElementById("bgMusic");

yesBtn.addEventListener("click", () => {

    music.play().catch(() => {});

    mainGif.src = "https://media.giphy.com/media/111ebonMs90YLu/giphy.gif";

    message.innerHTML = `
        <div class="celebrate">
        YAAAAAYYYY!!! ðŸ’•ðŸ’•ðŸ’•<br>
        BEST VALENTINE EVER SECURED ðŸ˜ŒðŸ’˜<br><br>
        See you February 14 at 8PM!!! ðŸ¥°
        </div>
    `;

    noBtn.style.display = "none";

    confettiExplosion();
});

// CONFETTI
function confettiExplosion() {
    for (let i = 0; i < 100; i++) {
        const confetti = document.createElement("div");
        confetti.style.position = "absolute";
        confetti.style.width = "8px";
        confetti.style.height = "8px";
        confetti.style.background = "hsl(" + Math.random()*360 + ",100%,50%)";
        confetti.style.left = Math.random() * 100 + "vw";
        confetti.style.top = "-10px";
        confetti.style.opacity = 1;
        confetti.style.transform = "rotate(" + Math.random()*360 + "deg)";
        confetti.style.transition = "top 3s linear, opacity 3s";
        document.body.appendChild(confetti);

        setTimeout(() => {
            confetti.style.top = "100vh";
            confetti.style.opacity = 0;
        }, 10);

        setTimeout(() => confetti.remove(), 3000);
    }
}
</script>

</body>
</html>
